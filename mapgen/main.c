#include"txtToPNG.h"
#include<stdio.h>
#include<stdlib.h>
#include<string.h>

char DEFAULT_MAP[] = {"############################............#............##.####.#####.#.#####.####.##o####.#####.#.#####.####o##.####.#####.#.#####.####.##.........................##.####.##.#######.##.####.##.####.##.#######.##.####.##......##....#....##......#######.##### # #####.######     #.##### # #####.#          #.##         ##.#          #.## ###_### ##.#          #.   #     #   .#          #.## ####### ##.#          #.##         ##.#          #.## ####### ##.#     ######.## ####### ##.#######............#............##.####.#####.#.#####.####.##.####.#####.#.#####.####.##o..##...............##..o####.##.##.#######.##.##.######.##.##.#######.##.##.####......##....#....##......##.##########.#.##########.##.##########.#.##########.##.........................############################"};

int main(int argc, char** argv){
    if(argc != 3){
        printf("Usage: %s <input file> <output file>\n", argv[0]);
        return 1;
    }
    char* input = argv[1];
    char* output = argv[2];
    char* buffer = malloc(sizeof(char) * 29 * 27);
    FILE* f = fopen(input, "r");
    if (f == NULL)
        errx(1, "couldn't find the file");
    if (fscanf(f, "%[^\n]", buffer)!= 1) {
        errx(1, "error reading file");
    }
    fclose(f);
    combinePNGs(output,buffer);
    
    free(buffer);
    return 0;
}
